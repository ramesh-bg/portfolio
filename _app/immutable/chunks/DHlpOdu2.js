import{b as H,h as e,a as L,E as O,r as Y,H as v,c as F,d as U,s as j,e as h,f as S,g as b,p as N,U as B,i as C,j as M,k as P,u as Z,q as w,S as z}from"./BQSdWyeB.js";function J(a,c,[r,s]=[0,0]){e&&r===0&&L();var i=a,f=null,l=null,u=B,k=r>0?O:0,n=!1;const q=(T,t=!0)=>{n=!0,A(t,T)},A=(T,t)=>{if(u===(u=T))return;let E=!1;if(e&&s!==-1){if(r===0){const I=Y(i);I===v?s=0:I===F?s=1/0:(s=parseInt(I.substring(1)),s!==s&&(s=u?1/0:-1))}const D=s>r;!!u===D&&(i=U(),j(i),h(!1),E=!0,s=-1)}u?(f?S(f):t&&(f=b(()=>t(i))),l&&N(l,()=>{l=null})):(l?S(l):t&&(l=b(()=>t(i,[r+1,s]))),f&&N(f,()=>{f=null})),E&&h(!0)};H(()=>{n=!1,c(q),n||A(null,null)},k),e&&(i=C)}function R(a,c){return a===c||(a==null?void 0:a[z])===c}function K(a={},c,r,s){return M(()=>{var i,f;return P(()=>{i=f,f=(s==null?void 0:s())||[],Z(()=>{a!==r(...f)&&(c(a,...f),i&&R(r(...i),a)&&c(null,...i))})}),()=>{w(()=>{f&&R(r(...f),a)&&c(null,...f)})}}),a}export{K as b,J as i};
